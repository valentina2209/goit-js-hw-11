{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"49079569-ff8624e89e8813a2e30953c9b\"; \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport const fetchImages = async (query, page = 1) => {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    page,\n    per_page: 40,\n  };\n\n try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n } catch (error) {\n   throw error;\n }\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst galleryEl = document.querySelector(\".gallery\");\nlet lightbox = null;\n\nexport const clearGallery = () => {\n  galleryEl.innerHTML = \"\";\n};\n\nexport const renderImages = images => {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n      <li class=\"photo-card\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\"><b>Likes: ${likes}</b></p>\n          <p class=\"info-item\"><b>Views: ${views}</b></p>\n          <p class=\"info-item\"><b>Comments: ${comments}</b></p>\n          <p class=\"info-item\"><b>Downloads: ${downloads}</b></p>\n        </div>\n      </li>\n      `;\n      }\n    )\n    .join(\"\");\n\n  galleryEl.insertAdjacentHTML(\"beforeend\", markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox(\".gallery a\", {\n      captionsData: \"alt\",\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n};\n\nexport const showLoader = () => {\n  document.querySelector(\".loader\").hidden = false;\n};\n\nexport const hideLoader = () => {\n  document.querySelector(\".loader\").hidden = true;\n};\n\nexport const notifyError = message => {\n  iziToast.error({\n    title: \"Error\",\n    message,\n    position: \"topRight\",\n  });\n};\n\nexport const notifyInfo = message => {\n  iziToast.info({\n    title: \"Info\",\n    message,\n    position: \"topRight\",\n  });\n};\n","import { fetchImages } from \"./js/pixabay-api.js\";\nimport {\n  renderImages,\n  clearGallery,\n  showLoader,\n  hideLoader,\n  notifyError,\n} from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".search-form\");\n\nform.addEventListener(\"submit\", async event => {\n  event.preventDefault();\n\n  const query = event.currentTarget.query.value.trim();\n  if (query === \"\") {\n    notifyError(\"Please enter a search query.\");\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const data = await fetchImages(query);\n    hideLoader();\n\n    if (data.hits.length === 0) {\n      notifyError(\n        \"Sorry, there are no images matching your search query. Please try again!\"\n      );\n      return;\n    }\n\n    renderImages(data.hits);\n  } catch (error) {\n    hideLoader();\n    notifyError(\"Something went wrong. Please try again later.\");\n    console.error(error);\n  }\n});\n\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","params","axios","error","galleryEl","lightbox","clearGallery","renderImages","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","showLoader","hideLoader","notifyError","message","iziToast","form","event","data"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAc,MAAOC,EAAOC,EAAO,IAAM,CACpD,MAAMC,EAAS,CACb,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACX,EAEF,GAAI,CAED,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,EAAQ,GACrC,IAClB,OAAQE,EAAO,CACd,MAAMA,CACT,CACA,ECjBMC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAAW,KAER,MAAMC,EAAe,IAAM,CAChCF,EAAU,UAAY,EACxB,EAEaG,EAAeC,GAAU,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,mBAEIL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2CAGLC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA,OAKxD,EACK,KAAK,EAAE,EAEVZ,EAAU,mBAAmB,YAAaK,CAAM,EAE3CJ,EAMHA,EAAS,QAAS,EALlBA,EAAW,IAAIY,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,EAEaC,EAAa,IAAM,CAC9B,SAAS,cAAc,SAAS,EAAE,OAAS,EAC7C,EAEaC,EAAa,IAAM,CAC9B,SAAS,cAAc,SAAS,EAAE,OAAS,EAC7C,EAEaC,EAAcC,GAAW,CACpCC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,EACA,SAAU,UACd,CAAG,CACH,EC1DME,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAU,MAAMC,GAAS,CAC7CA,EAAM,eAAgB,EAEtB,MAAMzB,EAAQyB,EAAM,cAAc,MAAM,MAAM,KAAM,EACpD,GAAIzB,IAAU,GAAI,CAChBqB,EAAY,8BAA8B,EAC1C,MACJ,CAEEd,EAAc,EACdY,EAAY,EAEZ,GAAI,CACF,MAAMO,EAAO,MAAM3B,EAAYC,CAAK,EAGpC,GAFAoB,EAAY,EAERM,EAAK,KAAK,SAAW,EAAG,CAC1BL,EACE,0EACD,EACD,MACN,CAEIb,EAAakB,EAAK,IAAI,CACvB,OAAQtB,EAAO,CACdgB,EAAY,EACZC,EAAY,+CAA+C,EAC3D,QAAQ,MAAMjB,CAAK,CACvB,CACA,CAAC"}